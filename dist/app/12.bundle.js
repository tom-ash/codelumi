(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{235:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e};function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o,c=t(0),u=(o=c)&&o.__esModule?o:{default:o},l=t(4),s=t(455),d=t(8),p=t(9),f=t(456),h=t(457),m=t(458),v=t(459);t(460);var b=(function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(g,u.default.Component),a(g,[{key:"render",value:function(){return u.default.createElement("div",{id:"user-edit-phone-verify",className:"container narrow-container shadowed",onClick:function(e){return e.stopPropagation()}},u.default.createElement("h2",{className:"page-header"},u.default.createElement("i",{className:"far fa-check-circle"}),this.languageHandler("Weryfikacja numeru telefonu","Phone Number Verification")),u.default.createElement("div",{className:"monit-inputs"},u.default.createElement("div",{className:"monit"},this.languageObjectHandler(m.monits.reason)),u.default.createElement(p.ManagedText,this.verificationManager()),u.default.createElement(p.ManagedButton,i({key:"button"},this.buttonManager()))))}}]),g);function g(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,g);var n=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e));return n.componentDidMount=v.componentDidMount.bind(n),n.languageHandler=d.languageHandler.bind(n),n.languageObjectHandler=d.languageObjectHandler.bind(n),n.verificationManager=f.verificationManager.bind(n),n.buttonManager=f.buttonManager.bind(n),n.startVerification=h.startVerification.bind(n),n.sendVerification=h.sendVerification.bind(n),n}n.default=(0,l.connect)(s.mapStateToProps,s.mapDispatchToProps)(b)},237:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.inputs={businessName:{icon:"fas fa-ellipsis-h",label:{pl:"Nazwa (firma) Ogłoszeniodawcy",en:"Announcer Business Name"}},taxNumber:{icon:"fas fa-ellipsis-h",label:{pl:"Numer identifikacji podatkowej",en:"Tax Identification Number"}},phoneCode:{icon:"fas fa-phone",label:{pl:"ZZZ",en:"ZZZ"}},phone:{icon:"fas fa-phone",label:{pl:"Numer telefonu",en:"Phone number"}},email:{icon:"fas fa-envelope",label:{pl:"Adres email",en:"Email address"}},password:{icon:"fas fa-lock",label:{pl:"Hasło",en:"Password"}},verification:{icon:"fas fa-lock",label:{pl:"Kod weryfikacyjny",en:"Verification Code"}}}},455:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.mapStateToProps=function(e){return{language:e.app.language,announcementPublishing:e.announcement.create.control.publishing,authorized:e.user.authorize.data.authorized,phoneVerified:e.user.authorize.data.phoneVerified,connecting:e.user.edit.control.connecting,phoneVerificationStarted:e.user.edit.control.phoneVerificationStarted,phoneVerificationSent:e.user.edit.control.phoneVerificationSent,error:e.user.edit.errors.phoneVerification}},n.mapDispatchToProps=function(n){return{changeApp:function(e){return n({type:"app",value:e})},changeAnnouncementControl:function(e){return n({type:"announcement/create/control",value:e})},changeAuthorizeData:function(e){return n({type:"user/authorize/data",value:e})},changeControl:function(e){return n({type:"user/edit/control",value:e})},changeErrors:function(e){return n({type:"user/edit/errors",value:e})}}}},456:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.verificationManager=function(){var n=this,e=r.inputs.verification,t=e.label,i=e.icon;return{id:"user-edit-phone-verification-code",controlled:!1,classNames:{container:"form-input text"},label:this.languageObjectHandler(t),children:a.default.createElement("i",{className:i}),onFocus:function(){return n.props.changeErrors({phoneVerification:c})},onBlur:function(e){return n.verificationManager().validate(e)},validate:function(e){return 8===e.length||(n.props.changeErrors({phoneVerification:{pl:"nieprawidłowy kod weryfikacyjny",en:"invalid verification code"}}),!1)},error:this.languageObjectHandler(this.props.error)}},n.buttonManager=function(){var e=this,n=this.props.connecting;return{classNames:{container:"form-input button"},label:n?a.default.createElement(i.default,{spinnerClass:"very-small-windmill-spinner"}):this.languageHandler("Zweryfikuj","Verify"),onClick:function(){n||e.sendVerification()}}};var a=o(t(0)),r=t(237),i=o(t(27));function o(e){return e&&e.__esModule?e:{default:e}}var c={pl:"",en:""}},457:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.startVerification=function(){var n=this,e=(0,u.getAccessToken)();fetch(c.apiUrl+"/phones/verification",{headers:{"Content-Type":"application/json",access_token:e}}).then(function(e){200===e.status&&n.props.changeControl({phoneVerificationStarted:!0})})},n.sendVerification=function(){var e=this,n=this.props,t=n.changeApp,i=n.changeAuthorizeData,a=n.changeControl;a({connecting:!0});var r=document.getElementById("user-edit-phone-verification-code").value,o=(0,u.getAccessToken)();fetch(c.apiUrl+"/users/verify_phone",{method:"PUT",headers:{"Content-Type":"application/json",access_token:o},body:JSON.stringify({verificationCode:r})}).then(function(e){if(200===e.status)return i({phoneVerified:!0}),void t({showUserEditPhoneVerify:!1});throw new Error("Verification Invalid")}).catch(function(){e.props.changeErrors({phoneVerification:{pl:"nieprawidłowy kod weryfikacyjny",en:"invalid verification code"}})}).finally(function(){return a({connecting:!1})})};var c=t(10),u=t(26)},458:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.monits=void 0;var i,a=t(0),r=(i=a)&&i.__esModule?i:{default:i};n.monits={reason:{pl:r.default.createElement("div",{className:"monit"},r.default.createElement("div",null,"Dodanie ogłoszenia wymaga ",r.default.createElement("b",null,"jednorazowej")," weryfikacji numeru telefonu."),r.default.createElement("div",null,"Kod weryfikacyjny został wysłany na podany numer telefonu. Wklaj go ponizej i naciśnij przycisk 'Dalej', aby kontynuować.")),en:r.default.createElement("div",{className:"monit"},r.default.createElement("div",null,"To add the Announcement the phone number has to be verified (only ",r.default.createElement("b",null,"once"),")."),r.default.createElement("div",null,"The verification code has been sent to the provided phone number. Paste it below and press 'Next' to continue."))},success:{pl:"Numer telefonu został zweryfikowany.",en:"The phone number has been verified."},already:{pl:"Numer telefonu jest już zweryfiowany.",en:"The phone number is already verified."}}},459:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.componentDidMount=function(){this.startVerification()}},460:function(e,n,t){var i=t(461);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!0,transform:void 0};t(6)(i,a);i.locals&&(e.exports=i.locals)},461:function(e,n,t){(e.exports=t(5)(!1)).push([e.i,".container {\n  position: relative;\n  background: #FDFEFE;\n  border-radius: 3px;\n  padding: 25px; }\n\n.wide-container {\n  width: 1200px; }\n\n.medium-container {\n  width: 720px; }\n  @media only screen and (max-width: 768px) {\n    .medium-container {\n      width: auto; } }\n  @media only screen and (max-width: 480px) {\n    .medium-container {\n      padding: 15px; } }\n\n.narrow-container {\n  width: 456px; }\n  @media only screen and (max-width: 480px) {\n    .narrow-container {\n      padding: 15px;\n      width: 100%; } }\n\n.shadowed {\n  box-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 3px 8px 3px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12); }\n\n#user-edit-phone-verify .page-header .far {\n  margin-right: 10px; }\n\n#user-edit-phone-verify .button {\n  position: relative; }\n  #user-edit-phone-verify .button .very-small-windmill-spinner {\n    z-index: 2000000;\n    left: -52px;\n    top: -52px; }\n    #user-edit-phone-verify .button .very-small-windmill-spinner div:after {\n      background: #F0F3F4; }\n\n#user-edit-phone-verify .monit-inputs .monit {\n  font-size: 16px;\n  line-height: 20px;\n  text-align: justify;\n  margin-bottom: 24px; }\n  #user-edit-phone-verify .monit-inputs .monit div > div:first-child {\n    margin-bottom: 12px; }\n\n#user-edit-phone-verify .form-input.button {\n  width: 50% !important;\n  margin-left: auto;\n  margin-right: 0; }\n  #user-edit-phone-verify .form-input.button .input {\n    display: block;\n    height: 36px !important; }\n",""])}}]);